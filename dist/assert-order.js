!function(t){"use strict";function e(t){return t&&t.__esModule?t.default:t}function i(t,e){return e={exports:{}},t(e,e.exports),e.exports}var s=function(){function t(t,e){void 0===e&&(e=0),this.plannedSteps=t,this.miniSteps=0,this.nextStep=e,this.possibleMoves={once:[e],some:[e],all:[e]}}return Object.defineProperty(t.prototype,"next",{get:function(){return this.nextStep},enumerable:!0,configurable:!0}),t.prototype.end=function(t){var e=this,i=function(){return void 0===e.plannedSteps||e.nextStep===e.plannedSteps},s=function(){return"Planned "+e.plannedSteps+" steps but executed "+e.nextStep+" steps"};if(t)return new Promise(function(e,n){setTimeout(function(){i()?e():n(new Error(s()))},t)});if(!i())throw new Error(s())},t.prototype.step=function(t){if(this.isValidStep("step",[t]))return this.moveNext(),this.nextStep++;throw new Error(this.getErrorMessage("step",t))},t.prototype.once=function(t){if(this.isValidStep("once",[t]))return this.moveNext(),this.nextStep++;throw new Error(this.getErrorMessage("once",t))},t.prototype.any=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.isValidStep("any",t))return this.moveNext(),this.nextStep++;throw new Error(this.getErrorMessage.apply(this,["any"].concat(t)))},t.prototype.some=function(t){if(this.isValidStep("some",[t]))return t===this.nextStep&&(this.moveNext({once:[t+1],some:[t,t+1],all:[t+1]}),this.miniSteps=0,this.nextStep++),++this.miniSteps;throw new Error(this.getErrorMessage("some",t))},t.prototype.all=function(t,e){if(e<=0)throw new Error(e+" is not a valid 'plan' value.");if(this.targetMiniSteps&&this.targetMiniSteps!==e)throw new Error("The plan count ("+e+") does not match with previous value ("+this.targetMiniSteps+").");if(this.isValidStep("all",[t],e))return void 0===this.targetMiniSteps&&(this.targetMiniSteps=e,this.miniSteps=0,this.moveNext({all:[t]})),this.miniSteps++,e===this.miniSteps&&(this.moveNext(),this.nextStep++,this.targetMiniSteps=void 0),this.miniSteps;throw new Error(this.getErrorMessage("all",t))},t.prototype.isValidStep=function(e,i,s){var n=this,r=t.alias[e]||e,o=i.find(function(t){return n.possibleMoves[r]&&n.possibleMoves[r].some(function(e){return e===t})});return(!s||this.miniSteps<=s)&&void 0!==o},t.prototype.moveNext=function(t){void 0===t&&(t={once:[this.nextStep+1],some:[this.nextStep+1],all:[this.nextStep+1]}),this.possibleMoves=t},t.prototype.getErrorMessage=function(e){for(var i=this,s=[],n=1;n<arguments.length;n++)s[n-1]=arguments[n];var r=[],o=function(e){r.push.apply(r,[e].concat(t.reverseAlias[e]).map(function(t){return"'"+t+"("+i.possibleMoves[e].join("|")+")'"}))};for(var p in this.possibleMoves)o(p);return"Expecting "+r.join(", ")+", but received '"+e+"("+s.join(",")+")'"},t}();s.alias={step:"once",any:"once"},s.reverseAlias={once:["step"],some:[],all:[]};var n=s,r={AssertOrder:n},o=i(function(t,e){var i=r;Object.defineProperty(e,"__esModule",{value:!0}),e.default=i.AssertOrder}),p=e(o);t.default=p}(this.AssertOrder=this.AssertOrder||{});
//# sourceMappingURL=assert-order.js.map
